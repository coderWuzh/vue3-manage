import{d as v,a4 as w,r as b,a5 as E,z as y,a6 as x,k as S,B as V,C as k,D as C,a as I,b as o,p as a,w as u,o as D,u as g,a7 as N,a8 as A,a9 as T,s as P,x as U,y as $,N as m,_ as q}from"./index.f448508d.js";/* empty css                     *//* empty css                 */import{h as K}from"./request.db4fb3b6.js";const O=""+new URL("bg.afcec808.jpeg",import.meta.url).href,p=l=>(U("data-v-4aebda4c"),l=l(),$(),l),R={class:"login-wrap"},j={class:"ms-login"},z={class:"login-box"},J=p(()=>o("div",{class:"left-img"},[o("img",{class:"img",src:O,alt:""})],-1)),L={class:"right-form"},M={class:"login-btn"},G=p(()=>o("p",{class:"login-tips"}," Tips : \u8D26\u53F7admin\u5BC6\u7801123456 ",-1)),H=p(()=>o("div",{class:"tips"}," \u601D\u8336\u7F51\u540E\u53F0\u7BA1\u7406\u7CFB\u7EDF ",-1)),Q=v({__name:"login",setup(l){const f=w(),t=b({username:"",password:""}),B={username:[{required:!0,message:"\u8BF7\u8F93\u5165\u7528\u6237\u540D",trigger:"blur"},{min:3,max:10,message:"\u957F\u5EA6\u57283\u523010\u4E2A\u5B57\u7B26\u4E4B\u95F4",trigger:"blur"}],password:[{required:!0,message:"\u8BF7\u8F93\u5165\u5BC6\u7801",trigger:"blur"},{min:6,max:16,message:"\u957F\u5EA6\u57286\u523020\u4E2A\u5B57\u7B26\u4E4B\u95F4",trigger:"blur"}]},F=E(),i=y(),c=d=>{!d||d.validate(e=>{if(e)K.$axios({url:"/api/login",method:"POST",data:{adminName:t.username,adminPwd:t.password}}).then(s=>{if(console.log(s),s.success){m.success("\u767B\u5F55\u6210\u529F"),localStorage.setItem("ms_username",s.data.admin_name);const r=s.data.authority.split(",");F.handleSet(r),localStorage.setItem("ms_keys",JSON.stringify(r)),f.push("/")}else m.error(s.msg)});else return m.error("\u7528\u6237\u540D\u6216\u5BC6\u7801\u9519\u8BEF"),!1})};return x().clearTags(),(d,e)=>{const s=S,r=V,_=k,h=C;return D(),I("div",R,[o("div",j,[o("div",z,[J,o("div",L,[a(h,{ref_key:"login",ref:i,model:t,rules:B,"label-width":"0px",class:"ms-content"},{default:u(()=>[a(_,{prop:"username"},{default:u(()=>[a(r,{modelValue:t.username,"onUpdate:modelValue":e[0]||(e[0]=n=>t.username=n),placeholder:"username"},{prepend:u(()=>[a(s,{icon:g(N)},null,8,["icon"])]),_:1},8,["modelValue"])]),_:1}),a(_,{prop:"password"},{default:u(()=>[a(r,{modelValue:t.password,"onUpdate:modelValue":e[1]||(e[1]=n=>t.password=n),type:"password",placeholder:"password",onKeyup:e[2]||(e[2]=A(n=>c(i.value),["enter"]))},{prepend:u(()=>[a(s,{icon:g(T)},null,8,["icon"])]),_:1},8,["modelValue"])]),_:1}),o("div",M,[a(s,{type:"primary",onClick:e[3]||(e[3]=n=>c(i.value))},{default:u(()=>[P(" \u767B\u5F55 ")]),_:1})]),G]),_:1},8,["model"]),H])])])])}}});const se=q(Q,[["__scopeId","data-v-4aebda4c"]]);export{se as default};
