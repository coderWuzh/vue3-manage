import{d as P,r as E,z as V,B as J,k as M,m as q,n as G,A as H,C as K,D as L,F as R,G as j,a as Q,b as f,p as l,w as t,u as b,o as v,s as _,R as W,H as X,t as Y,I as h,J as I,K as Z,L as ee,M as ae,N as c,_ as le}from"./index.672299c4.js";/* empty css                      *//* empty css                     *//* empty css                 *//* empty css               *//* empty css                  *//* empty css                        */import{h as D}from"./request.b25640f0.js";const oe={class:"table-container"},te={class:"container"},ue={class:"handle-box"},de={class:"pagination"},ne={class:"dialog-footer"},se=P({__name:"orderTable",setup(re){const d=E({name:"",pageIndex:1,pageSize:10}),F=V([]),x=V(0),p=()=>{D.$axios({url:"/api/order/getData"}).then(u=>{console.log(u.data),F.value=u.data,x.value=u.data.length})};p();const B=u=>{D.$axios({url:"/api/order/insertData",method:"POST",data:{form:JSON.stringify(u)}}).then(e=>{e.success?c.success("\u6DFB\u52A0\u6210\u529F"):c.error("\u6DFB\u52A0\u5931\u8D25")}),p()},y=()=>{r.value=!0,a.id=0,a.uId=0,a.order_id="",a.goods_name="",a.goods_price="",a.goods_num="",a.order_status="",r.value=!0,g=-1},k=()=>{d.pageIndex=1,p()},S=u=>{d.pageIndex=u,p()},T=u=>{ae.confirm("\u786E\u5B9A\u8981\u5220\u9664\u5417\uFF1F","\u63D0\u793A",{type:"warning"}).then(()=>{D.$axios({url:"/api/order/deleteData",method:"POST",data:{id:u.id}}).then(e=>{e.success?(c.success("\u5220\u9664\u6210\u529F"),p()):c.error("\u4FEE\u6539\u5931\u8D25")})}).catch(()=>{})},r=V(!1),a=E({id:0,uId:0,order_id:"",goods_name:"",goods_price:"",goods_num:"",order_status:""});let g=-1;const w=(u,e)=>{g=u+(d.pageIndex-1)*10,a.id=e.id,a.uId=e.uId,a.order_id=e.order_id,a.goods_name=e.goods_name,a.goods_price=e.goods_price,a.goods_num=e.goods_num,a.order_status=e.order_status,r.value=!0},A=()=>{r.value=!1,g==-1?(console.log(a),B(a)):D.$axios({url:"/api/order/editData",method:"POST",data:{form:JSON.stringify(a)}}).then(u=>{u.success?(c.success(`\u4FEE\u6539\u7B2C ${g+1} \u884C\u6210\u529F`),p()):c.error("\u4FEE\u6539\u5931\u8D25")})};return(u,e)=>{const n=J,m=M,s=q,U=G,$=H,i=K,z=L,N=R,C=j("permiss");return v(),Q("div",oe,[f("div",te,[f("div",ue,[l(n,{modelValue:d.name,"onUpdate:modelValue":e[0]||(e[0]=o=>d.name=o),placeholder:"\u641C\u7D22",class:"handle-input mr10"},null,8,["modelValue"]),l(m,{type:"primary",icon:b(W),onClick:k,color:"#b0352f"},{default:t(()=>[_(" \u641C\u7D22 ")]),_:1},8,["icon"]),l(m,{type:"primary",icon:b(X),color:"#b0352f",onClick:y},{default:t(()=>[_(" \u65B0\u589E ")]),_:1},8,["icon"])]),l(U,{ref:"multipleTable",data:F.value.slice((d.pageIndex-1)*d.pageSize,d.pageIndex*d.pageSize),border:"",class:"table","header-cell-class-name":"table-header"},{default:t(()=>[l(s,{prop:"id",label:"ID",width:"55",align:"center"}),l(s,{prop:"uId",label:"\u7528\u6237ID",width:"55",align:"center"}),l(s,{prop:"order_id",label:"\u8BA2\u5355\u53F7",align:"center"}),l(s,{prop:"goods_name",label:"\u5546\u54C1\u540D",align:"center"}),l(s,{label:"\u603B\u4EF7",width:"85",align:"center"},{default:t(o=>[_(" \uFFE5"+Y(o.row.goods_price),1)]),_:1}),l(s,{prop:"goods_num",label:"\u6570\u91CF",width:"55",align:"center"}),l(s,{prop:"order_status",label:"\u8BA2\u5355\u72B6\u6001",width:"55",align:"center"}),l(s,{label:"\u64CD\u4F5C",width:"220",align:"center"},{default:t(o=>[h((v(),I(m,{text:"",icon:b(Z),onClick:O=>w(o.$index,o.row)},{default:t(()=>[_(" \u7F16\u8F91 ")]),_:2},1032,["icon","onClick"])),[[C,15]]),h((v(),I(m,{text:"",icon:b(ee),class:"del",onClick:O=>T(o.row)},{default:t(()=>[_(" \u5220\u9664 ")]),_:2},1032,["icon","onClick"])),[[C,16]])]),_:1})]),_:1},8,["data"]),f("div",de,[l($,{background:"",layout:"total, prev, pager, next","current-page":d.pageIndex,"page-size":d.pageSize,total:x.value,onCurrentChange:S},null,8,["current-page","page-size","total"])])]),l(N,{modelValue:r.value,"onUpdate:modelValue":e[9]||(e[9]=o=>r.value=o),title:"\u7F16\u8F91",width:"30%"},{footer:t(()=>[f("span",ne,[l(m,{onClick:e[8]||(e[8]=o=>r.value=!1)},{default:t(()=>[_("\u53D6 \u6D88")]),_:1}),l(m,{type:"primary",onClick:A},{default:t(()=>[_("\u786E \u5B9A")]),_:1})])]),default:t(()=>[l(z,{"label-width":"70px"},{default:t(()=>[l(i,{label:"ID"},{default:t(()=>[l(n,{modelValue:a.id,"onUpdate:modelValue":e[1]||(e[1]=o=>a.id=o)},null,8,["modelValue"])]),_:1}),l(i,{label:"\u7528\u6237ID"},{default:t(()=>[l(n,{modelValue:a.uId,"onUpdate:modelValue":e[2]||(e[2]=o=>a.uId=o)},null,8,["modelValue"])]),_:1}),l(i,{label:"\u8BA2\u5355\u53F7"},{default:t(()=>[l(n,{modelValue:a.order_id,"onUpdate:modelValue":e[3]||(e[3]=o=>a.order_id=o)},null,8,["modelValue"])]),_:1}),l(i,{label:"\u5546\u54C1\u540D"},{default:t(()=>[l(n,{modelValue:a.goods_name,"onUpdate:modelValue":e[4]||(e[4]=o=>a.goods_name=o)},null,8,["modelValue"])]),_:1}),l(i,{label:"\u603B\u4EF7"},{default:t(()=>[l(n,{modelValue:a.goods_price,"onUpdate:modelValue":e[5]||(e[5]=o=>a.goods_price=o)},null,8,["modelValue"])]),_:1}),l(i,{label:"\u6570\u91CF"},{default:t(()=>[l(n,{modelValue:a.goods_num,"onUpdate:modelValue":e[6]||(e[6]=o=>a.goods_num=o)},null,8,["modelValue"])]),_:1}),l(i,{label:"\u8BA2\u5355\u72B6\u6001"},{default:t(()=>[l(n,{modelValue:a.order_status,"onUpdate:modelValue":e[7]||(e[7]=o=>a.order_status=o)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"])])}}});const De=le(se,[["__scopeId","data-v-75de4d09"]]);export{De as default};
